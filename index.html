<!DOCTYPE html>
<html lang="ja">
  <head>
    <style>
      .cell-v {
        padding: 0.3em;
        text-align: center;
        background: #777;
        color: #fff;
      }
      .cell-req {
        padding: 0.3em 1em 0.3em 1em;
        text-align: center;
      }
      .cell-cnt {
        padding: 0.3em 1em 0.3em 1em;
        text-align: right;
      }
    </style>
    <meta charset="UTF-8" />
    <title>Girls' Frontline 2: Exilium, Recruitment Estimator</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/picnic" />
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <meta property="og:title" content="Girls' Frontline2: Exilium, Recruitment Estimator" />
    <meta property="og:description" content="手持ちの資源から凸数を見積もる / Estimate doll fortifications from your resources. ドールズフロントライン2 / ドルフロ2 / Girls' Frontline2: Exilium" />
    <meta property="og:image" content="https://kilosierra7b8.github.io/gfl2_rec_est/og_img.png" />
    <meta property="og:url" content="https://kilosierra7b8.github.io/gfl2_rec_est/" />
    <meta property="og:type" content="website" />
  </head>
  <body>
    <div
      style="margin: 1em;"
      x-data='{
      mode: "1", 
      collapse_pieces: "",
      access_permissions: "",
      redundant_pieces: "",
      credits: "",
      result_collapse_pieces: "",
      result_access_permissions: "",
      result_redundant_pieces: "",
      result_credits: "",
      result_total: "",
      expected_dolls: "",
      changeMode() {
        window.alert("hoge");
      },
      calculate() {
        let n = Number(this.collapse_pieces);
        this.result_collapse_pieces = 0;
        if (!isNaN(n) && this.collapse_pieces !== "") {
          this.result_collapse_pieces = Math.floor(n / 150);
        }

        n = Number(this.access_permissions);
        this.result_access_permissions = 0;
        if (!isNaN(n) && this.access_permissions !== "") {
          this.result_access_permissions = Number(this.access_permissions);
        }

        n = Number(this.redundant_pieces);
        this.result_redundant_pieces = 0;
        if (!isNaN(n) && this.redundant_pieces !== "") {
          this.result_redundant_pieces = Math.floor(n / 30);
        }

        n = Number(this.credits);
        this.result_credits = 0;
        if (!isNaN(n) && this.credits !== "") {
          this.result_credits = Math.floor(n / 150);
        }

        this.result_total = this.result_collapse_pieces + this.result_access_permissions + this.result_redundant_pieces + this.result_credits;

        if (this.result_total > 555) {
            this.expected_dolls = "6";
        } else if (this.result_total > 475) {
            this.expected_dolls = "5";
        } else if (this.result_total > 396) {
            this.expected_dolls = "4";
        } else if (this.result_total > 317) {
            this.expected_dolls = "3";
        } else if (this.result_total > 237) {
            this.expected_dolls = "2";
        } else if (this.result_total > 158) {
            this.expected_dolls = "1";
        } else if (this.result_total > 79) {
            this.expected_dolls = "0";
        } else {
            this.expected_dolls = "-1";
        }

        if (this.result_total > 612) {
            this.expected_weapons  = "6";
        } else if (this.result_total > 533) {
            this.expected_weapons  = "5";
        } else if (this.result_total > 453) {
            this.expected_weapons  = "4";
        } else if (this.result_total > 374) {
            this.expected_weapons  = "3";
        } else if (this.result_total > 295) {
            this.expected_weapons  = "2";
        } else if (this.result_total > 215) {
            this.expected_weapons  = "1";
        } else if (this.result_total > 136) {
            this.expected_weapons  = "0";
        } else {
            this.expected_weapons  = "-1";
        }
      }
    }'
    >
      <p>資源 / Resources:</p>
      <table style="margin-top: 1em; table-layout: fixed">
        <tbody>
          <tr>
            <td style="width: 70px">
              <img src="./Item_Icon_Diamond.png" width="64" height="64" />
            </td>
            <td style="width: 120px">
              <input style="width: 100px" type="number" x-model="collapse_pieces" placeholder="" @change="calculate" />
            </td>
            <td style="width: 120px">
              <span x-text="result_collapse_pieces" />
            </td>
          </tr>
          <tr>
            <td style="width: 70px">
              <img style="width: 64px" src="./Item_Icon_Gacha_UpTicket.png" width="64" height="64" />
            </td>
            <td style="width: 120px">
              <input style="width: 100px" type="number" x-model="access_permissions" placeholder="" @change="calculate" />
            </td>
            <td style="width: 120px">
              <span x-text="result_access_permissions" />
            </td>
          </tr>
          <tr>
            <td style="width: 70px">
              <img style="width: 64px" src="./Item_Icon_Core.png" width="64" height="64" />
            </td>
            <td style="width: 120px">
              <input style="width: 100px" type="number" x-model="redundant_pieces" placeholder="" @change="calculate" />
            </td>
            <td style="width: 120px">
              <span x-text="result_redundant_pieces" />
            </td>
          </tr>
          <tr>
            <td style="width: 70px">
              <img style="width: 64px" src="./Item_Icon_Credit.png" width="64" height="64" />
            </td>
            <td style="width: 120px">
              <input style="width: 100px" type="number" x-model="credits" placeholder="" @change="calculate" />
            </td>
            <td style="width: 120px">
              <span x-text="result_credits" />
            </td>
          </tr>

          <tr>
            <td colspan="2" style="width: 190px; text-align: right">合計回数 / Total pulls</td>
            <td style="width: 120px">
              <span x-text="result_total" />
            </td>
          </tr>
        </tbody>
      </table>

      <hr />
      <div style="margin-top: 1em; margin-bottom: 1em;">
        <p>期待人形凸数 / Expected Dolls Fortifications:</p>
        <table style="margin-top: 1em; table-layout: fixed">
          <tbody>
            <tr>
              <td style="padding: 0">
                <img src="./Item_Icon_Doll.png" width="48" height="48" />
                <sup id="fnref1"><a href="#ref1">*1</a></sup>
              </td>
              <td class="">
                <span style="font-weight: bold; color: red" x-text="expected_dolls" />
              </td>
            </tr>
            <tr>
              <td style="padding: 0; vertical-align: middle">
                <img src="./Item_Icon_Doll.png" width="48" height="48" />
                <img src="./Item_Icon_Weapon.png" width="48" height="48" />
                <sup id="fnref2"><a href="#ref2">*2</a></sup>
              </td>
              <td class="">
                <span style="font-weight: bold; color: red" x-text="expected_weapons" />
              </td>
            </tr>
          </tbody>
        </table>
      </div>
      <hr />
    </div>

    <div style="margin-top: 1em;">
      <p style="margin-left: 1em;">参考 / References:</p>

      <ul>
        <li id="ref1">
          人形のみ重ねる / Fortify dolls only. <a href="#fnref1">↩</a>
          <table style="margin-top: 1em; table-layout: fixed">
            <thead>
              <tr>
                <th class="cell-v"></th>
                <th colspan="3">Required pull count for</th>
              </tr>
              <tr>
                <th class="cell-v">V</th>
                <th class="cell-req">25%</th>
                <th class="cell-req">50%</th>
                <th class="cell-req">75%</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="cell-v">0</td>
                <td class="cell-cnt">61</td>
                <td class="cell-cnt">67</td>
                <td class="cell-cnt">120</td>
              </tr>
              <tr>
                <td class="cell-v">1</td>
                <td class="cell-cnt">125</td>
                <td class="cell-cnt">58</td>
                <td class="cell-cnt">191</td>
              </tr>
              <tr>
                <td class="cell-v">2</td>
                <td class="cell-cnt">194</td>
                <td class="cell-cnt">241</td>
                <td class="cell-cnt">279</td>
              </tr>
              <tr>
                <td class="cell-v">3</td>
                <td class="cell-cnt">268</td>
                <td class="cell-cnt">317</td>
                <td class="cell-cnt">368</td>
              </tr>
              <tr>
                <td class="cell-v">4</td>
                <td class="cell-cnt">342</td>
                <td class="cell-cnt">396</td>
                <td class="cell-cnt">449</td>
              </tr>
              <tr>
                <td class="cell-v">5</td>
                <td class="cell-cnt">417</td>
                <td class="cell-cnt">476</td>
                <td class="cell-cnt">534</td>
              </tr>
              <tr>
                <td class="cell-v">6</td>
                <td class="cell-cnt">492</td>
                <td class="cell-cnt">556</td>
                <td class="cell-cnt">619</td>
              </tr>
            </tbody>
          </table>
        </li>
        <li id="ref2">
          0 凸の餅武器を取った上で人形を重ねる / Get a signature weapon and fortify dolls.<a href="#fnref2">↩</a>
          <table style="margin-top: 1em; table-layout: fixed">
            <thead>
              <tr>
                <th class="cell-v"></th>
                <th colspan="3">Required pull count for</th>
              </tr>
              <tr>
                <th class="cell-v">V</th>
                <th class="cell-req">25%</th>
                <th class="cell-req">50%</th>
                <th class="cell-req">75%</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="cell-v">0</td>
                <td class="cell-cnt">112</td>
                <td class="cell-cnt">129</td>
                <td class="cell-cnt">174</td>
              </tr>
              <tr>
                <td class="cell-v">1</td>
                <td class="cell-cnt">179</td>
                <td class="cell-cnt">216</td>
                <td class="cell-cnt">251</td>
              </tr>
              <tr>
                <td class="cell-v">2</td>
                <td class="cell-cnt">249</td>
                <td class="cell-cnt">297</td>
                <td class="cell-cnt">341</td>
              </tr>
              <tr>
                <td class="cell-v">3</td>
                <td class="cell-cnt">323</td>
                <td class="cell-cnt">374</td>
                <td class="cell-cnt">427</td>
              </tr>
              <tr>
                <td class="cell-v">4</td>
                <td class="cell-cnt">397</td>
                <td class="cell-cnt">453</td>
                <td class="cell-cnt">510</td>
              </tr>
              <tr>
                <td class="cell-v">5</td>
                <td class="cell-cnt">472</td>
                <td class="cell-cnt">533</td>
                <td class="cell-cnt">595</td>
              </tr>
              <tr>
                <td class="cell-v">6</td>
                <td class="cell-cnt">547</td>
                <td class="cell-cnt">613</td>
                <td class="cell-cnt">679</td>
              </tr>
            </tbody>
          </table>
        </li>
        <li>Ref to <a href="https://space.bilibili.com/6165300">一棵平衡树</a></li>
      </ul>
    </div>
  </body>
</html>
